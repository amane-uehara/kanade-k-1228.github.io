<!-- (ฅ^･ω･^ฅ) ﾆｬｰ -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja" prefix="og: http://ogp.me/ns#">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114187773-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "UA-114187773-1");
  </script>
  <!-- End Google Analytics -->
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="@kanade_k_1228" />
  <link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/54773334" />
      <title>最長片道切符 | Kanade's Website</title>

  <!-- OGP -->
    <!-- END OGP -->
  <style>
    body {
      margin: 0;
      /* background-color: #fcfeff; */
      /* background-color: #e4f0fc; */
      background-color: #f0f8ff;
      font-size: 16px;
      font-family: メイリオ, Meiryo, 游ゴシック体, "Yu Gothic", YuGothic,
        "ヒラギノ角ゴシック Pro", "Hiragino Kaku Gothic Pro", Osaka,
        "ＭＳ Ｐゴシック", "MS PGothic", sans-serif;
      line-height: 1.5;
      color: #202020;
    }

    article {
      display: block;
      margin: 0 auto;
    }

    @media (min-width: 1220px) {
      article {
        width: 1200px;
      }
    }

    @media (max-width: 1219px) {
      article {
        width: 100%;
      }
    }

    h1 {
      display: block;
      margin: 0.5em 0 0.5em 0;
      padding: 8px;
      color: #d64acf;
      font-size: 25px;
      font-weight: bold;
      background-color: #ffccff;
    }

    h2 {
      display: block;
      margin: 0.5em 0 0.5em 0;
      padding: 8px;
      color: #2c8ecf;
      font-size: 20px;
      font-weight: bold;
      background: #bbddff;
    }

    h3 {
      font-weight: bold;
      margin: 1em 0 0.5em 0.5em;
    }

    h4 {
      font-weight: bold;
      margin: 0.5em 0 0.5em 0.7em;
    }

    p {
      margin: 0.5em 0 0.5em 1em;
    }

    small {
      font-size: 10px;
    }

    table {
      margin: 0.5em auto;
      border-collapse: collapse;
    }

    th {
      border: 1px solid;
      padding: 0.3em;
      text-align: center;
      background-color: #e8ffbd;
    }

    td {
      border: 1px solid;
      padding: 0.3em;
      text-align: center;
      background-color: #f0f0ff;
    }

    ul,
    ol {
      margin: 0.5em 0 0.5em 1em;
      padding: 0 0 0 1.5em;
    }

    ul ul,
    ul ul ul,
    ol ol,
    ol ol ol {
      margin: 0;
    }

    blockquote {
      border: 1px solid;
      border-radius: 2px;
      background-color: white;
      margin: 0.5em 1em 0.5em 1em;
    }

    img {
      display: block;
      margin: 0 auto;
      max-width: 100%;
      min-width: 50%;
    }

    header>ul {
      margin: 0.5em 0 0.5em 0;
      padding: 0;
      list-style: none;
      display: flex;
      flex-direction: row;
    }

    header>ul>li {
      width: 25%;
      text-align: center;
    }

    header>ul>li>a {
      display: block;
    }

    div#header-links {
      height: 50px;
      display: flex;
      margin: 0.5em 0 0.5em 0;
      justify-content: space-evenly;
    }

    div#header-links>a {
      text-decoration: none;
    }

    nav {
      border: 1px solid;
      border-radius: 2px;
      background-color: white;
      margin: 0.5em 1em 0.5em 1em;
    }

    nav>ul {
      margin: 0;
    }

    button {
      display: block;
      margin: 0.5em auto;
    }

    iframe {
      display: block;
      margin: 0.5em auto;
    }

    code {
      display: inline-block;
      padding: 1px;
      border: solid;
      border-width: 1px;
      border-radius: 5px;
      background: #ffffff;
    }
  </style>
  <style>
    a.sourceLine {
      display: inline-block;
      line-height: 1.25;
    }

    a.sourceLine {
      pointer-events: none;
      color: inherit;
      text-decoration: inherit;
    }

    a.sourceLine:empty {
      height: 1.2em;
    }

    .sourceCode {
      overflow: visible;
      font-family: Consolas, Menlo, "Liberation Mono", Courier, monospace;
    }

    code.sourceCode {
      white-space: pre;
      position: relative;
    }

    div.sourceCode {
      margin: 0.5em 1em 0.5em 1em;
    }

    pre.sourceCode {
      margin: 0;
    }

    @media screen {
      div.sourceCode {
        overflow: auto;
      }
    }

    @media print {
      code.sourceCode {
        white-space: pre-wrap;
      }

      a.sourceLine {
        text-indent: -1em;
        padding-left: 1em;
      }
    }

    pre.numberSource a.sourceLine {
      position: relative;
      left: -4em;
    }

    pre.numberSource a.sourceLine::before {
      content: attr(title);
      position: relative;
      left: -1em;
      text-align: right;
      vertical-align: baseline;
      border: none;
      pointer-events: all;
      display: inline-block;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      padding: 0 4px;
      width: 4em;
      color: #aaaaaa;
    }

    pre.numberSource {
      margin-left: 3em;
      border-left: 1px solid #aaaaaa;
      padding-left: 4px;
    }

    div.sourceCode {
      color: rgb(212, 212, 212);
      background-color: rgb(0, 0, 0);
    }

    @media screen {
      a.sourceLine::before {
        text-decoration: underline;
      }
    }

    code span.al {
      color: #ef2929;
    }

    /* Alert */
    code span.an {
      color: #8f5902;
      font-weight: bold;
      font-style: italic;
    }

    /* Annotation */
    code span.at {
      color: #c4a000;
    }

    /* Attribute */
    code span.bn {
      color: rgb(86, 156, 214);
    }

    /* BaseN */
    code span.cf {
      color: rgb(197, 134, 192);
      font-weight: bold;
    }

    /* ControlFlow */
    code span.ch {
      color: #4e9a06;
    }

    /* Char */
    code span.cn {
      color: rgb(181, 206, 168);
    }

    /* Constant */
    code span.co {
      color: rgb(106, 153, 85);
    }

    /* Comment */
    code span.cv {
      color: #8f5902;
      font-weight: bold;
      font-style: italic;
    }

    /* CommentVar */
    code span.do {
      color: #8f5902;
      font-weight: bold;
      font-style: italic;
    }

    /* Documentation */
    code span.dt {
      color: rgb(86, 156, 214);
    }

    /* DataType */
    code span.dv {
      color: rgb(181, 206, 168);
    }

    /* DecVal */
    code span.er {
      color: #a40000;
      font-weight: bold;
    }

    /* Error */
    code span.ex {}

    /* Extension */
    code span.fl {
      color: rgb(181, 206, 168);
    }

    /* Float */
    code span.fu {
      color: rgb(220, 220, 170);
    }

    /* Function */
    code span.im {
      color: rgb(206, 145, 120);
    }

    /* Import */
    code span.in {
      color: #8f5902;
      font-weight: bold;
      font-style: italic;
    }

    /* Information */
    code span.kw {
      color: rgb(78, 201, 176);
      font-weight: bold;
    }

    /* Keyword */
    code span.op {}

    /* Operator */
    code span.ot {
      color: #8f5902;
    }

    /* Other */
    code span.pp {
      color: rgb(197, 134, 192);
    }

    /* Preprocessor */
    code span.sc {
      color: rgb(215, 186, 125);
    }

    /* SpecialChar */
    code span.ss {
      color: #4e9a06;
    }

    /* SpecialString */
    code span.st {
      color: rgb(206, 145, 120);
    }

    /* String */
    code span.va {
      color: rgb(156, 220, 254);
    }

    /* Variable */
    code span.vs {
      color: #4e9a06;
    }

    /* VerbatimString */
    code span.wa {
      color: #8f5902;
      font-weight: bold;
      font-style: italic;
    }

    /* Warning */
  </style>
    <script type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    mjx-container[jax="CHTML"][display="true"] {
      display: block;
      text-align: center;
      margin: 0;
    }
  </style>
  <!-- SyntaxHighlight -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/vs2015.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>

  <script>
    function tweet() {
      window.open(
        "https://twitter.com/intent/tweet?via=kanade_k_1228&related=kanade_k_1228&url=" +
        location.href +
        "&text=" +
        "最長片道切符",
        "_blank"
      );
    }
  </script>
</head>

<body>
  <article>
    <header>
      <ul>
        <li><a href="/">ﾎｰﾑ</a></li>
        <li><a href="/Portfolio/">ﾎﾟﾄﾌｫﾘｵ</a></li>
        <li><a href="/Lab/">研究室</a></li>
        <li><a href="/Blog/">雑記</a></li>
      </ul>
      <div id="header-links">
        <a href="https://twitter.com/kanade_k_1228" target="_blank">
          <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="126.444 2.281 589 589"
            style="margin: 0; padding: 0">
            <circle cx="420.944" cy="296.781" r="294.5" fill="#2daae1" />
            <path
              d="M609.773 179.634c-13.891 6.164-28.811 10.331-44.498 12.204 16.01-9.587 28.275-24.779 34.066-42.86a154.78 154.78 0 0 1-49.209 18.801c-14.125-15.056-34.267-24.456-56.551-24.456-42.773 0-77.462 34.675-77.462 77.473 0 6.064.683 11.98 1.996 17.66-64.389-3.236-121.474-34.079-159.684-80.945-6.672 11.446-10.491 24.754-10.491 38.953 0 26.875 13.679 50.587 34.464 64.477a77.122 77.122 0 0 1-35.097-9.686v.979c0 37.54 26.701 68.842 62.145 75.961-6.511 1.784-13.344 2.716-20.413 2.716-4.998 0-9.847-.473-14.584-1.364 9.859 30.769 38.471 53.166 72.363 53.799-26.515 20.785-59.925 33.175-96.212 33.175-6.25 0-12.427-.373-18.491-1.104 34.291 21.988 75.006 34.824 118.759 34.824 142.496 0 220.428-118.052 220.428-220.428 0-3.361-.074-6.697-.236-10.021a157.855 157.855 0 0 0 38.707-40.158z"
              fill="#fff" />
          </svg>
        </a>
        <a href="https://github.com/kanade-k-1228" target="_blank">
          <svg width="50px" height="50px" viewBox="0 0 1024 1024" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"
              transform="scale(64)" fill="#1B1F23" />
          </svg>
        </a>
        <a href="https://t.co/E5xtfEQs4A" target="_blank">
          <img src="http://kanade-k-1228.github.io/img/niconico.png" width="50px" height="50px"
            style="border-radius: 50%" /></a>
        <a href="https://www.youtube.com/channel/UCoeuc9-XQ5EpeYSCn4ESpQw" target="_blank">
          <svg width="50px" height="50px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 333333 333333">
            <path
              d="M166667 0c92048 0 166667 74619 166667 166667s-74619 166667-166667 166667S0 258715 0 166667 74619 0 166667 0zm84195 132297s-1678-11849-6843-17052c-6545-6843-13873-6887-17223-7283-24036-1751-60138-1751-60138-1751h-63s-36085 0-60135 1751c-3363 409-10681 437-17223 7283-5168 5203-6811 17052-6811 17052s-1711 13904-1711 27838v13029c0 13905 1709 27837 1709 27837s1678 11849 6811 17061c6542 6843 15139 6621 18977 7350 13761 1314 58457 1710 58457 1710s36133-64 60169-1783c3363-397 10678-438 17223-7284 5168-5202 6843-17065 6843-17065s1711-13904 1711-27837v-13028c-35-13905-1745-27837-1745-27837l-9 9-1-1zm-102010 56674v-48312l46437 24237-46437 24075z"
              fill="red" />
          </svg>
        </a>
      </div>
      <!-- End Top Nav -->
      <!-- Title -->
            <h1 style="margin: 0">最長片道切符</h1>
            <!-- Date -->
            <!-- Description -->
          </header>

    <!-- TeX Macros -->
    <!-- prettier-ignore -->
    <p style="display: none">
      \[ \newcommand{dn}[3]{\frac{\mathrm{d}^{#3} #1}{\mathrm{d} #2^{#3}}}
      \newcommand{\d}[2]{\frac{\mathrm{d} #1}{\mathrm{d} #2}}
      \newcommand{\dd}[2]{\frac{\mathrm{d}^2 #1}{\mathrm{d} {#2}^2}}
      \newcommand{\ddd}[2]{\frac{\mathrm{d}^3 #1}{\mathrm{d} {#2}^3}}
      \newcommand{\pdn}[3]{\frac{\partial^{#3} #1}{\partial {#2}^{#3}}}
      \newcommand{\pd}[2]{\frac{\partial #1}{\partial #2}}
      \newcommand{\pdd}[2]{\frac{\partial^2 #1}{\partial {#2}^2}}
      \newcommand{\pddd}[2]{\frac{\partial^3 #1}{\partial {#2}^3}}
      \newcommand{\p}{\partial}
      \newcommand{\D}[2]{\frac{\mathrm{D} #1}{\mathrm{D} #2}}
      \newcommand{\Re}{\mathrm{Re}}
      \newcommand{\Im}{\mathrm{Im}}
      \newcommand{\bra}[1]{\left\langle #1 \right|}
      \newcommand{\ket}[1]{\left|#1 \right\rangle}
      \newcommand{\braket}[2]{\left\langle #1 \middle|#2 \right\rangle}
      \newcommand{\inner}[2]{\left\langle #1 ,#2 \right\rangle}
      \newcommand{\l}{\left} \newcommand{\m}{\middle} \newcommand{\r}{\right}
      \newcommand{\f}[2]{\frac{#1}{#2}} \newcommand{\eps}{\varepsilon}
      \newcommand{\ra}{\rightarrow} \newcommand{\F}{\mathcal{F}}
      \newcommand{\L}{\mathcal{L}} \newcommand{\t}{\quad}
      \newcommand{\intinf}{\int_{-\infty}^{+\infty}}
      \newcommand{\R}{\mathcal{R}} \newcommand{\C}{\mathcal{C}}
      \newcommand{\Z}{\mathcal{Z}} \newcommand{\bm}[1]{\boldsymbol{#1}} \]
    </p>

    <!-- Table of Contents -->
     <p>大昔に作った最長片道切符の経路を求めるプログラムが発掘されたので供養。アルゴリズムもデータ構造もさっぱりなプログラミング初心者はこうやって全探索を書くんやな（）</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="pp">#include </span><span class="im">&lt;string.h&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a><span class="pp">#define JOINTED_MAX 8 </span><span class="co">//接続する線区の最大数(仙台６)+2</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="pp">#define LINE 248 </span><span class="co">//線区数＋1</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a><span class="pp">#define ST 151 </span><span class="co">//駅数+1</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a><span class="pp">#define LINE_NAME 7 </span><span class="co">//3文字</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a><span class="pp">#define ST_NAME 7 </span><span class="co">//3文字</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a><span class="pp">#define ROUTE_MAX 250 </span><span class="co">//予想される最大値</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a><span class="co">/*線区リスト書式</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a><span class="co">line_list.txt</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a><span class="co">始発駅 終着駅 営業キロ（0.1km単位)</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="co">線区数を#define LINE</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a><span class="co">*/</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true"></a>    <span class="dt">char</span> c_t1[ST_NAME];</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true"></a>    <span class="dt">char</span> c_t2[ST_NAME];</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true"></a>    <span class="dt">int</span> i_t1;</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true"></a>    <span class="dt">int</span> i_t2;</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true"></a>    <span class="dt">int</span> length;<span class="co">//0.1km営業キロ</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true"></a>} line;</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true"></a><span class="kw">typedef</span> <span class="kw">struct</span> {</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true"></a>    <span class="dt">char</span> name[ST_NAME];</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true"></a>    <span class="dt">int</span> line_jointed[JOINTED_MAX];</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true"></a>    <span class="dt">int</span> st_jointed[JOINTED_MAX];</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true"></a>} st;</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true"></a><span class="co">//駅名を駅番号に変換</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true"></a><span class="dt">int</span> st_c2i(st *st_list, <span class="dt">char</span> *st_name) {</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; ST; i++) {</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true"></a>        <span class="cf">if</span> (strcmp(st_list[i].name, st_name) == <span class="dv">0</span>) {</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true"></a>            <span class="cf">return</span> i;</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true"></a>        }</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true"></a>    }</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true"></a>}</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true"></a><span class="co">//1つの駅番号と、間の線区番号から、駅番号を返す</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true"></a><span class="dt">int</span> line2st(line *line_list, <span class="dt">int</span> st, <span class="dt">int</span> line) {</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true"></a>    <span class="cf">if</span> (line_list[line].i_t1 == st) { <span class="cf">return</span> line_list[line].i_t2; }</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true"></a>    <span class="cf">if</span> (line_list[line].i_t2 == st) { <span class="cf">return</span> line_list[line].i_t1; }</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true"></a>}</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true"></a></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true"></a><span class="co">//二つの駅の間の線区を返す</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true"></a><span class="dt">int</span> st2line(line *line_list, <span class="dt">int</span> st1, <span class="dt">int</span> st2) {</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; LINE; i++) {</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true"></a>        <span class="cf">if</span> ((line_list[i].i_t1 == st1 &amp;&amp; line_list[i].i_t2 == st2) || (line_list[i].i_t1 == st2 &amp;&amp; line_list[i].i_t2 == st1)) {</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true"></a>            <span class="cf">return</span> i;</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true"></a>        }</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true"></a>    }</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true"></a>}</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true"></a></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true"></a><span class="dt">int</span> main(<span class="dt">void</span>) {</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true"></a>    <span class="dt">int</span> i, j, k;</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true"></a>    <span class="co">//定数</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true"></a>    <span class="co">//txtから線区リストを生成</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true"></a>    line line_list[LINE] = { <span class="dv">0</span> };</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true"></a>    <span class="co">//line[0]は何も無い（jointedがおかしくなる）</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true"></a>    <span class="dt">FILE</span> *fp;</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true"></a>    <span class="cf">if</span> (fopen_s(&amp;fp, <span class="st">&quot;line_list.txt&quot;</span>, <span class="st">&quot;r&quot;</span>) != <span class="dv">0</span>) { printf(<span class="st">&quot;line_list.txt disable</span><span class="sc">\n</span><span class="st">&quot;</span>); }</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>; i &lt; LINE; i++) {</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true"></a>        fscanf_s(fp, <span class="st">&quot;%s %s %d&quot;</span>,</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true"></a>            line_list[i].c_t1, ST_NAME,</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true"></a>            line_list[i].c_t2, ST_NAME,</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true"></a>            &amp;line_list[i].length);</span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true"></a>    }</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true"></a>    fclose(fp);</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true"></a></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true"></a>    <span class="co">//線区リストから、駅リストを作る</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true"></a>    st st_list[ST] = { <span class="st">&quot;&quot;</span>,{ <span class="dv">0</span> } ,{ <span class="dv">0</span> } };<span class="co">//駅リスト[駅番号].name.line_jointed[index].st_jointed[index]</span></span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true"></a>    <span class="dt">int</span> s = <span class="dv">1</span>;<span class="co">//今のところの駅数（駅番号0はnull）</span></span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true"></a>    <span class="dt">bool</span> t1_ok = false, t2_ok = false;<span class="co">//「t1,2が駅リストに存在する」フラグ</span></span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true"></a>    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">1</span>; i &lt; LINE; i++) {</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true"></a>        t1_ok = false;</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true"></a>        t2_ok = false;</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true"></a>        <span class="co">//両端の駅が一致していたら、エラーを表示</span></span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true"></a>        <span class="cf">if</span> (strcmp(line_list[i].c_t1, line_list[i].c_t2) == <span class="dv">0</span>) {</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true"></a>            printf(<span class="st">&quot;SameTermimnal%d</span><span class="sc">\n</span><span class="st">&quot;</span>, i);</span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true"></a>        }</span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true"></a>        <span class="co">//t1,2を駅リストから探して、接続線区を追加</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true"></a>        <span class="cf">for</span> (j = <span class="dv">0</span>; j &lt; s; j++) {</span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true"></a>            <span class="cf">if</span> (strcmp(st_list[j].name, line_list[i].c_t1) == <span class="dv">0</span>) {</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">6</span>] = st_list[j].line_jointed[<span class="dv">5</span>];</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">5</span>] = st_list[j].line_jointed[<span class="dv">4</span>];</span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">4</span>] = st_list[j].line_jointed[<span class="dv">3</span>];</span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">3</span>] = st_list[j].line_jointed[<span class="dv">2</span>];</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">2</span>] = st_list[j].line_jointed[<span class="dv">1</span>];</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">1</span>] = i;</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true"></a>                t1_ok = true;</span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true"></a>            }</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true"></a>            <span class="cf">if</span> (strcmp(st_list[j].name, line_list[i].c_t2) == <span class="dv">0</span>) {</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">6</span>] = st_list[j].line_jointed[<span class="dv">5</span>];</span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">5</span>] = st_list[j].line_jointed[<span class="dv">4</span>];</span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">4</span>] = st_list[j].line_jointed[<span class="dv">3</span>];</span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">3</span>] = st_list[j].line_jointed[<span class="dv">2</span>];</span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">2</span>] = st_list[j].line_jointed[<span class="dv">1</span>];</span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true"></a>                st_list[j].line_jointed[<span class="dv">1</span>] = i;</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true"></a>                t2_ok = true;</span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true"></a>            }</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true"></a></span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true"></a>        }</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true"></a></span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true"></a>        <span class="co">//駅リストにt1,2がなかったら、追加</span></span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true"></a>        <span class="cf">if</span> (!t1_ok) {</span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true"></a>            s++;</span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true"></a>            strcpy_s(st_list[s - <span class="dv">1</span>].name, line_list[i].c_t1);</span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true"></a>            st_list[s - <span class="dv">1</span>].line_jointed[<span class="dv">1</span>] = i;</span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true"></a>        }</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true"></a>        <span class="cf">if</span> (!t2_ok) {</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true"></a>            s++;</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true"></a>            strcpy_s(st_list[s - <span class="dv">1</span>].name, line_list[i].c_t2);</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true"></a>            st_list[s - <span class="dv">1</span>].line_jointed[<span class="dv">1</span>] = i;</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true"></a>        }</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true"></a>    }</span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true"></a></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true"></a>    <span class="co">//線区リストの両端駅の番号表示を追加</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true"></a>    <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt; LINE; i++) {</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true"></a>        line_list[i].i_t1 = st_c2i(st_list, line_list[i].c_t1);</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true"></a>        line_list[i].i_t2 = st_c2i(st_list, line_list[i].c_t2);</span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true"></a>    }</span>
<span id="cb1-126"><a href="#cb1-126" aria-hidden="true"></a></span>
<span id="cb1-127"><a href="#cb1-127" aria-hidden="true"></a>    <span class="co">//接続駅追加</span></span>
<span id="cb1-128"><a href="#cb1-128" aria-hidden="true"></a>    <span class="cf">for</span> (i = <span class="dv">1</span>; i &lt; s; i++) {</span>
<span id="cb1-129"><a href="#cb1-129" aria-hidden="true"></a>        <span class="cf">for</span> (j = <span class="dv">0</span>; j &lt; JOINTED_MAX; j++) {</span>
<span id="cb1-130"><a href="#cb1-130" aria-hidden="true"></a>            st_list[i].st_jointed[j] = line2st(line_list, i, st_list[i].line_jointed[j]);</span>
<span id="cb1-131"><a href="#cb1-131" aria-hidden="true"></a>        }</span>
<span id="cb1-132"><a href="#cb1-132" aria-hidden="true"></a>    }</span>
<span id="cb1-133"><a href="#cb1-133" aria-hidden="true"></a></span>
<span id="cb1-134"><a href="#cb1-134" aria-hidden="true"></a>    printf(<span class="st">&quot;ーーー線区リストーーー</span><span class="sc">\n</span><span class="st">番号</span><span class="sc">\t</span><span class="st">端駅１</span><span class="sc">\t\t</span><span class="st">端駅２</span><span class="sc">\t\t</span><span class="st">営業㌔</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb1-135"><a href="#cb1-135" aria-hidden="true"></a>    <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt; LINE; i++) {</span>
<span id="cb1-136"><a href="#cb1-136" aria-hidden="true"></a>        printf(<span class="st">&quot;%d</span><span class="sc">\t</span><span class="st">%s</span><span class="sc">\t</span><span class="st">%d</span><span class="sc">\t</span><span class="st">%s</span><span class="sc">\t</span><span class="st">%d</span><span class="sc">\t</span><span class="st">%d</span><span class="sc">\n</span><span class="st">&quot;</span>,</span>
<span id="cb1-137"><a href="#cb1-137" aria-hidden="true"></a>            i,</span>
<span id="cb1-138"><a href="#cb1-138" aria-hidden="true"></a>            line_list[i].c_t1,</span>
<span id="cb1-139"><a href="#cb1-139" aria-hidden="true"></a>            line_list[i].i_t1,</span>
<span id="cb1-140"><a href="#cb1-140" aria-hidden="true"></a>            line_list[i].c_t2,</span>
<span id="cb1-141"><a href="#cb1-141" aria-hidden="true"></a>            line_list[i].i_t2,</span>
<span id="cb1-142"><a href="#cb1-142" aria-hidden="true"></a>            line_list[i].length);</span>
<span id="cb1-143"><a href="#cb1-143" aria-hidden="true"></a>    }</span>
<span id="cb1-144"><a href="#cb1-144" aria-hidden="true"></a></span>
<span id="cb1-145"><a href="#cb1-145" aria-hidden="true"></a>    printf(<span class="st">&quot;ーーー駅リストーーー</span><span class="sc">\n</span><span class="st">番号</span><span class="sc">\t</span><span class="st">名前</span><span class="sc">\t</span><span class="st">接続線区</span><span class="sc">\t\t\t</span><span class="st">接続駅</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb1-146"><a href="#cb1-146" aria-hidden="true"></a>    <span class="cf">for</span> (k = <span class="dv">0</span>; k &lt; s; k++) {</span>
<span id="cb1-147"><a href="#cb1-147" aria-hidden="true"></a>        printf(<span class="st">&quot;%d</span><span class="sc">\t</span><span class="st">%s</span><span class="sc">\t</span><span class="st">&quot;</span>, k, st_list[k].name);</span>
<span id="cb1-148"><a href="#cb1-148" aria-hidden="true"></a>        <span class="cf">for</span> (j = <span class="dv">0</span>; j &lt; JOINTED_MAX; j++) {</span>
<span id="cb1-149"><a href="#cb1-149" aria-hidden="true"></a>            printf(<span class="st">&quot;%3d &quot;</span>, st_list[k].line_jointed[j]);</span>
<span id="cb1-150"><a href="#cb1-150" aria-hidden="true"></a>        }</span>
<span id="cb1-151"><a href="#cb1-151" aria-hidden="true"></a>        printf(<span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>);</span>
<span id="cb1-152"><a href="#cb1-152" aria-hidden="true"></a>        <span class="cf">for</span> (j = <span class="dv">0</span>; j &lt; JOINTED_MAX; j++) {</span>
<span id="cb1-153"><a href="#cb1-153" aria-hidden="true"></a>            printf(<span class="st">&quot;%3d &quot;</span>, st_list[k].st_jointed[j]);</span>
<span id="cb1-154"><a href="#cb1-154" aria-hidden="true"></a>        }</span>
<span id="cb1-155"><a href="#cb1-155" aria-hidden="true"></a>        printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true"></a>    }</span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true"></a>    <span class="co">//変数</span></span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true"></a>    <span class="dt">int</span> route[ROUTE_MAX] = { <span class="dv">0</span> };<span class="co">//通ってきた駅ルート</span></span>
<span id="cb1-159"><a href="#cb1-159" aria-hidden="true"></a>    <span class="dt">int</span> route_front = <span class="dv">0</span>;<span class="co">//ルートの最前線のルート中の位置</span></span>
<span id="cb1-160"><a href="#cb1-160" aria-hidden="true"></a>    <span class="dt">int</span> length = <span class="dv">0</span>;<span class="co">//今回の長さ</span></span>
<span id="cb1-161"><a href="#cb1-161" aria-hidden="true"></a>    <span class="dt">int</span> st_pointer[ST] = { <span class="dv">0</span> };<span class="co">//各駅での分岐</span></span>
<span id="cb1-162"><a href="#cb1-162" aria-hidden="true"></a>    <span class="dt">int</span> route_max[ROUTE_MAX] = { <span class="dv">0</span> };<span class="co">//最大記録</span></span>
<span id="cb1-163"><a href="#cb1-163" aria-hidden="true"></a>    <span class="dt">int</span> length_max = <span class="dv">0</span>;<span class="co">//最大長</span></span>
<span id="cb1-164"><a href="#cb1-164" aria-hidden="true"></a>    <span class="dt">int</span> st_start, st_end;<span class="co">//始点,終点</span></span>
<span id="cb1-165"><a href="#cb1-165" aria-hidden="true"></a></span>
<span id="cb1-166"><a href="#cb1-166" aria-hidden="true"></a>    printf(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">始点：&quot;</span>);</span>
<span id="cb1-167"><a href="#cb1-167" aria-hidden="true"></a>    scanf_s(<span class="st">&quot;%d&quot;</span>, &amp;st_start);</span>
<span id="cb1-168"><a href="#cb1-168" aria-hidden="true"></a>    printf(<span class="st">&quot;終点：&quot;</span>);</span>
<span id="cb1-169"><a href="#cb1-169" aria-hidden="true"></a>    scanf_s(<span class="st">&quot;%d&quot;</span>, &amp;st_end);</span>
<span id="cb1-170"><a href="#cb1-170" aria-hidden="true"></a>    printf(<span class="st">&quot;始点：%d：%s</span><span class="sc">\n</span><span class="st">終点：%d：%s</span><span class="sc">\n</span><span class="st">&quot;</span>, st_start, st_list[st_start].name, st_end, st_list[st_end].name);</span>
<span id="cb1-171"><a href="#cb1-171" aria-hidden="true"></a>    <span class="cf">if</span> (fopen_s(&amp;fp, <span class="st">&quot;log.txt&quot;</span>, <span class="st">&quot;w&quot;</span>) != <span class="dv">0</span>) { printf(<span class="st">&quot;log.txt disable</span><span class="sc">\n</span><span class="st">&quot;</span>); }</span>
<span id="cb1-172"><a href="#cb1-172" aria-hidden="true"></a>    route[route_front] = st_start;<span class="co">//スタート地点に設定</span></span>
<span id="cb1-173"><a href="#cb1-173" aria-hidden="true"></a>    <span class="cf">goto</span> start;</span>
<span id="cb1-174"><a href="#cb1-174" aria-hidden="true"></a></span>
<span id="cb1-175"><a href="#cb1-175" aria-hidden="true"></a>    <span class="co">//探索</span></span>
<span id="cb1-176"><a href="#cb1-176" aria-hidden="true"></a>entry:</span>
<span id="cb1-177"><a href="#cb1-177" aria-hidden="true"></a>    <span class="cf">if</span> (route_front &lt; <span class="dv">0</span>) { <span class="cf">goto</span> done; }</span>
<span id="cb1-178"><a href="#cb1-178" aria-hidden="true"></a>start:</span>
<span id="cb1-179"><a href="#cb1-179" aria-hidden="true"></a>    <span class="cf">if</span> (route[route_front] == st_end) {</span>
<span id="cb1-180"><a href="#cb1-180" aria-hidden="true"></a>        <span class="co">//到達ルートを記録</span></span>
<span id="cb1-181"><a href="#cb1-181" aria-hidden="true"></a>        fprintf(fp, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb1-182"><a href="#cb1-182" aria-hidden="true"></a>        <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt;= route_front; i++) {</span>
<span id="cb1-183"><a href="#cb1-183" aria-hidden="true"></a>            fprintf(fp, <span class="st">&quot;%2d &quot;</span>, route[i]);</span>
<span id="cb1-184"><a href="#cb1-184" aria-hidden="true"></a>        }</span>
<span id="cb1-185"><a href="#cb1-185" aria-hidden="true"></a>        <span class="co">//長さを計算</span></span>
<span id="cb1-186"><a href="#cb1-186" aria-hidden="true"></a>        length = <span class="dv">0</span>;</span>
<span id="cb1-187"><a href="#cb1-187" aria-hidden="true"></a>        <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt;= route_front; i++) {</span>
<span id="cb1-188"><a href="#cb1-188" aria-hidden="true"></a>            length += line_list[st2line(line_list, route[i], route[i + <span class="dv">1</span>])].length;</span>
<span id="cb1-189"><a href="#cb1-189" aria-hidden="true"></a>        }</span>
<span id="cb1-190"><a href="#cb1-190" aria-hidden="true"></a>        <span class="co">//長さを記録</span></span>
<span id="cb1-191"><a href="#cb1-191" aria-hidden="true"></a>        fprintf(fp, <span class="st">&quot;</span><span class="sc">\t\t</span><span class="st">%d&quot;</span>, length);</span>
<span id="cb1-192"><a href="#cb1-192" aria-hidden="true"></a>        <span class="co">//長ければ記録更新</span></span>
<span id="cb1-193"><a href="#cb1-193" aria-hidden="true"></a>        <span class="cf">if</span> (length &gt; length_max) {</span>
<span id="cb1-194"><a href="#cb1-194" aria-hidden="true"></a>            fprintf(fp, <span class="st">&quot;★&quot;</span>);</span>
<span id="cb1-195"><a href="#cb1-195" aria-hidden="true"></a>            length_max = length;</span>
<span id="cb1-196"><a href="#cb1-196" aria-hidden="true"></a>            <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt;= route_front; i++) {</span>
<span id="cb1-197"><a href="#cb1-197" aria-hidden="true"></a>                route_max[i] = route[i];</span>
<span id="cb1-198"><a href="#cb1-198" aria-hidden="true"></a>            }</span>
<span id="cb1-199"><a href="#cb1-199" aria-hidden="true"></a>        }</span>
<span id="cb1-200"><a href="#cb1-200" aria-hidden="true"></a>        route_front--;</span>
<span id="cb1-201"><a href="#cb1-201" aria-hidden="true"></a>        <span class="cf">goto</span> entry;</span>
<span id="cb1-202"><a href="#cb1-202" aria-hidden="true"></a>    }</span>
<span id="cb1-203"><a href="#cb1-203" aria-hidden="true"></a>    <span class="cf">else</span> {</span>
<span id="cb1-204"><a href="#cb1-204" aria-hidden="true"></a>        <span class="co">//一度通っていないか？</span></span>
<span id="cb1-205"><a href="#cb1-205" aria-hidden="true"></a>        <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt; route_front; i++) {</span>
<span id="cb1-206"><a href="#cb1-206" aria-hidden="true"></a>            <span class="cf">if</span> (route[route_front] == route[i]) {</span>
<span id="cb1-207"><a href="#cb1-207" aria-hidden="true"></a>                route_front--;</span>
<span id="cb1-208"><a href="#cb1-208" aria-hidden="true"></a>                <span class="cf">goto</span> entry;</span>
<span id="cb1-209"><a href="#cb1-209" aria-hidden="true"></a>            }</span>
<span id="cb1-210"><a href="#cb1-210" aria-hidden="true"></a>        }</span>
<span id="cb1-211"><a href="#cb1-211" aria-hidden="true"></a>        <span class="co">//最後まで探索したか？</span></span>
<span id="cb1-212"><a href="#cb1-212" aria-hidden="true"></a>        <span class="cf">if</span> (st_list[route[route_front]].st_jointed[st_pointer[route[route_front]] + <span class="dv">1</span>] == <span class="dv">0</span>) {</span>
<span id="cb1-213"><a href="#cb1-213" aria-hidden="true"></a>            st_pointer[route[route_front]] = <span class="dv">0</span>;</span>
<span id="cb1-214"><a href="#cb1-214" aria-hidden="true"></a>            route_front--;</span>
<span id="cb1-215"><a href="#cb1-215" aria-hidden="true"></a>            <span class="cf">goto</span> entry;</span>
<span id="cb1-216"><a href="#cb1-216" aria-hidden="true"></a>        }</span>
<span id="cb1-217"><a href="#cb1-217" aria-hidden="true"></a>        <span class="cf">else</span> {</span>
<span id="cb1-218"><a href="#cb1-218" aria-hidden="true"></a>            st_pointer[route[route_front]]++;</span>
<span id="cb1-219"><a href="#cb1-219" aria-hidden="true"></a>            route[route_front + <span class="dv">1</span>] = st_list[route[route_front]].st_jointed[st_pointer[route[route_front]]];</span>
<span id="cb1-220"><a href="#cb1-220" aria-hidden="true"></a>            route_front++;</span>
<span id="cb1-221"><a href="#cb1-221" aria-hidden="true"></a>            <span class="cf">goto</span> entry;</span>
<span id="cb1-222"><a href="#cb1-222" aria-hidden="true"></a>        }</span>
<span id="cb1-223"><a href="#cb1-223" aria-hidden="true"></a>    }</span>
<span id="cb1-224"><a href="#cb1-224" aria-hidden="true"></a></span>
<span id="cb1-225"><a href="#cb1-225" aria-hidden="true"></a>done:</span>
<span id="cb1-226"><a href="#cb1-226" aria-hidden="true"></a>    printf(<span class="st">&quot;探索終了</span><span class="sc">\n</span><span class="st">&quot;</span>);</span>
<span id="cb1-227"><a href="#cb1-227" aria-hidden="true"></a>    printf(<span class="st">&quot;%d</span><span class="sc">\n</span><span class="st">&quot;</span>, length_max);</span>
<span id="cb1-228"><a href="#cb1-228" aria-hidden="true"></a>    <span class="cf">for</span> (i = <span class="dv">0</span>; i &lt; ROUTE_MAX; i++) {</span>
<span id="cb1-229"><a href="#cb1-229" aria-hidden="true"></a>        printf(<span class="st">&quot;%s &quot;</span>, st_list[route_max[i]].name);</span>
<span id="cb1-230"><a href="#cb1-230" aria-hidden="true"></a>    }</span>
<span id="cb1-231"><a href="#cb1-231" aria-hidden="true"></a></span>
<span id="cb1-232"><a href="#cb1-232" aria-hidden="true"></a>    fclose(fp);</span>
<span id="cb1-233"><a href="#cb1-233" aria-hidden="true"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb1-234"><a href="#cb1-234" aria-hidden="true"></a>}</span></code></pre></div>

    <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="126.444 2.281 589 589"
      style="margin: auto; padding: 0; display: block" onclick="tweet();">
      <circle cx="420.944" cy="296.781" r="294.5" fill="#2daae1" />
      <path
        d="M609.773 179.634c-13.891 6.164-28.811 10.331-44.498 12.204 16.01-9.587 28.275-24.779 34.066-42.86a154.78 154.78 0 0 1-49.209 18.801c-14.125-15.056-34.267-24.456-56.551-24.456-42.773 0-77.462 34.675-77.462 77.473 0 6.064.683 11.98 1.996 17.66-64.389-3.236-121.474-34.079-159.684-80.945-6.672 11.446-10.491 24.754-10.491 38.953 0 26.875 13.679 50.587 34.464 64.477a77.122 77.122 0 0 1-35.097-9.686v.979c0 37.54 26.701 68.842 62.145 75.961-6.511 1.784-13.344 2.716-20.413 2.716-4.998 0-9.847-.473-14.584-1.364 9.859 30.769 38.471 53.166 72.363 53.799-26.515 20.785-59.925 33.175-96.212 33.175-6.25 0-12.427-.373-18.491-1.104 34.291 21.988 75.006 34.824 118.759 34.824 142.496 0 220.428-118.052 220.428-220.428 0-3.361-.074-6.697-.236-10.021a157.855 157.855 0 0 0 38.707-40.158z"
        fill="#fff" />
    </svg>
  </article>
</body>

</html>